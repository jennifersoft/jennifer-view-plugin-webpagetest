<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Title</title>
<!--<script src="vue.min.js"></script>-->
<script src="jquery-1.8.0.min.js"></script>
<script src="profile.js"></script>
<script>
    var MainObj = {
        parentFunc: function(callback, count) {
            console.log("parentFunc");

            this.childrenFunc(count);
            if(typeof(callback) == "function") callback();
        },
        childrenFunc: function(count) {
            console.log("childrenFunc");

            childrenSubFunc(count, count);
        }
    };

    function childrenSubFunc(a, b) {
        return a*b;
    }

    function parentSubFunc(a) {
        return a*a;
    }

    function callSelf(count) {
        console.log("callSelf : " + count);

        if(count > 0) {
            callSelf(count - 1);
        }
    }

    function ajaxTest(callback) {
        var request = new XMLHttpRequest();
        var url = "package.json";

        request.open("GET", url);
        request.addEventListener("load", function() {
            if(request.status === 200) {
                callback(request.responseText);
            }
        }, false);

        request.send();
    }

    JSProfiler.setup({ exceptObjects: [ "jQuery" ] });
    JSProfiler.start();

    $(document).ready(function() {
        ajaxTest(function(text) {
            MainObj.childrenFunc(5);
            console.log(text);
        });
    });
</script>

</head>
<body>

<a href="javascript:window.open('viewer/index.html', '', 'width=1024, height=768')">Show profiles</a>
<!--<div id="app-6">-->
    <!--<p>{{ message }}</p>-->
    <!--<input v-model="message">-->
<!--</div>-->
<!--<script>-->
    <!--var app6 = new Vue({-->
        <!--el: '#app-6',-->
        <!--data: {-->
            <!--message: 'Hello Vue!'-->
        <!--}-->
    <!--});-->
<!--</script>-->


</body>
</html>